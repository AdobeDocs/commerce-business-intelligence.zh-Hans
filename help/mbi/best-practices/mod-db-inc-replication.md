---
title: 修改数据库以支持增量复制
description: 了解如何修改数据库以支持增量复制。
exl-id: c9a38892-6096-4eb5-8a53-35b8b7b083dc
source-git-commit: 03a5161930cafcbe600b96465ee0fc0ecb25cae8
workflow-type: tm+mt
source-wordcount: '336'
ht-degree: 0%

---

# 支持增量复制

如果您的表当前不允许进行增量复制，请参阅以下建议以了解可能的解决方案。

## 修改时间：

的 `Modified At` 方法（最理想的复制方法）使用 `datetime` 列来检测新数据和/或更新的数据。 请记住， `datetime` 使用此方法的表中的列必须已编入索引，并且不能随时包含null值。

如果您的表没有 `datetime` 列，可添加索引 `modified at` 列。 在 `modified at` 列。 检查是否为每行填充列。

确保 `Modified At` 方法可按预期工作，因此不能从表中删除行。 您而是应该通过添加 `deleted` 列。 此列将返回 `1` 行无效且 `0` 否则。 然后，在生成量度和报表时，您可以使用此列过滤掉无效行。

## 修改单个自动递增主键

如果 `Modified At` 方法，则“单次自动递增主键”是下一个最佳选项。 使用此方法，可通过搜索高于Data warehouse中当前最高值的主键值，在表中发现新数据。

请记住，使用此方法的表是单列，其中整数会自动递增主键值。 要在数据库中使用此方法，请进行以下修改：

* 如果主键是复合键或非整数，请将主键更改为自动递增整数
* 如果主键值是单个整数列，但可以按非顺序分配键值，请更改主键值以自动递增

## 包装

通过对表进行细微的修改，您可以利用更快、更高效的增量复制方法；但是，如果仍然不可能，您仍可以采取其他步骤来 [缩短更新时间](../best-practices/reduce-update-cycle-time.md) 和 [优化数据库](../best-practices/opt-db-analysis.md).
